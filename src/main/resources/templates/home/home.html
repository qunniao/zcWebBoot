<!DOCTYPE HTML>
<html xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="Bookmark" href="/favicon.ico" >
    <link rel="Shortcut Icon" href="/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="h-ui/css/H-ui.min.css" />
    <link rel="stylesheet" type="text/css" href="h-ui.admin/css/H-ui.admin.css" />
    <link rel="stylesheet" type="text/css" href="lib/Hui-iconfont/1.0.8/iconfont.css" />
    <link rel="stylesheet" type="text/css" href="h-ui.admin/skin/default/skin.css" id="skin" />
    <link rel="stylesheet" type="text/css" href="h-ui.admin/css/style.css" />

    <script type="text/javascript" src="js/vue.js" ></script>

    <title>后台管理系统</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
</head>

<body>
<header class="navbar-wrapper">
    <div class="navbar navbar-fixed-top">
        <div class="container-fluid cl">
            <a class="logo navbar-logo f-l mr-10 hidden-xs" href="${pageContext.request.contextPath}/admin/waitProcess/WaitProcessList.jsp">急急令后台管理</a>
            <a class="logo navbar-logo f-l mr-10 hidden-xs" href="${pageContext.request.contextPath}/MyJsp.jsp" style="margin-left:60px;">待处理事务</a>
            <a aria-hidden="false" class="nav-toggle Hui-iconfont visible-xs" href="javascript:;">&#xe667;</a>
            <nav id="Hui-userbar" class="nav navbar-nav navbar-userbar hidden-xs">
                <ul class="cl">
                    <li ><a href="http://back.jijiling.net/WeblingStoreBack"  target="blank">网站首页</a></li>
                    <li style="margin-left:30px;margin-right:30px;">后台管理系统</li>
                    <li><th text="${admin.username}">-,欢迎您！</li>
                    <li class="dropDown dropDown_hover">
                        <ul class="dropDown-menu menu radius box-shadow">
                            <li><a href="${pageContext.request.contextPath}/index.jsp">退出</a></li>
                        </ul>
                    </li>

                </ul>
            </nav>
        </div>
    </div>
</header>
<aside class="Hui-aside" id="app">
    <div class="menu_dropdown bk_2">

        <dl v-if="shujutongji_m > 0" id="menu-shujutongji_m">
            <dt v-on:click="findChildActionList(shujutongji_m)"><i class="Hui-iconfont">&#xe613;</i> 数据统计<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_shujutongji_m">
                    <li><a :data-href="item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>


        <dl v-if="form_m > 0" id="menu-form_m">
            <dt v-on:click="findChildActionList(form_m)"><i class="Hui-iconfont">&#xe616;</i> 表单提交记录<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_form_m">
                    <li><a :data-href="item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>


        <dl v-if="store_m > 0"  id="menu-store_m">
            <dt v-on:click="findChildActionList(store_m)"><i class="Hui-iconfont">&#xe620;</i> 学校管理<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_store_m">
                    <li><a :data-href="'${pageContext.request.contextPath}/'+item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>



        <dl v-if="product_m > 0"  id="menu-product_m">
            <dt v-on:click="findChildActionList(product_m)"><i class="Hui-iconfont">&#xe62d;</i> 课程管理<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_product_m">
                    <li><a :data-href="'${pageContext.request.contextPath}/'+item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>

        <dl v-if="company_m > 0"  id="menu-company_m">
            <dt v-on:click="findChildActionList(company_m)"><i class="Hui-iconfont">&#xe62d;</i> 品牌店加盟<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_company_m">
                    <li><a :data-href="'${pageContext.request.contextPath}/'+item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>

        <dl v-if="news_m > 0"  id="menu-news_m">
            <dt v-on:click="findChildActionList(product_m)"><i class="Hui-iconfont">&#xe62d;</i> 活动资讯<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_news_m">
                    <li><a :data-href="'${pageContext.request.contextPath}/'+item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>


        <dl  v-if="xitongguanli > 0" id="menu-system">
            <dt v-on:click="findChildActionList(xitongguanli)"><i class="Hui-iconfont">&#xe62e;</i> 系统管理<i class="Hui-iconfont menu_dropdown-arrow">&#xe6d5;</i></dt>
            <dd>
                <ul v-for="item in list_xitongguanli">
                    <li><a :data-href="'${pageContext.request.contextPath}/'+item.url" :data-title="item.zh_name" href="javascript:void(0)">{{item.zh_name}}</a></li>
                </ul>
            </dd>
        </dl>

    </div>
</aside>
<div class="dislpayArrow hidden-xs"><a class="pngfix" href="javascript:void(0);" onClick="displaynavbar(this)"></a></div>
<section class="Hui-article-box">
    <div id="Hui-tabNav" class="Hui-tabNav hidden-xs">
        <div class="Hui-tabNav-wp">
            <ul id="min_title_list" class="acrossTab cl">
                <li class="active">
                    <span title="首页" data-href="${pageContext.request.contextPath}/MyJsp.jsp">待处理事务</span>
                    <em></em>
                </li>
            </ul>
        </div>
        <div class="Hui-tabNav-more btn-group">
            <a id="js-tabNav-prev" class="btn radius btn-default size-S" href="javascript:;">
                <i class="Hui-iconfont">&#xe6d4;</i>
            </a>
            <a id="js-tabNav-next" class="btn radius btn-default size-S" href="javascript:;">
                <i class="Hui-iconfont">&#xe6d7;</i>
            </a>
        </div>
    </div>
    <div id="iframe_box" class="Hui-article">
        <div class="show_iframe">
            <div style="display:none" class="loading"></div>
            <iframe scrolling="yes" frameborder="0" src="${pageContext.request.contextPath}/admin/waitProcess/WaitProcessList.jsp"></iframe>
        </div>
    </div>
</section>

<div class="contextMenu" id="Huiadminmenu">
    <ul>
        <li id="closethis">关闭当前 </li>
        <li id="closeall">关闭全部 </li>
    </ul>
</div>
<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" src="lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="lib/layer/2.4/layer.js"></script>
<script type="text/javascript" src="h-ui/js/H-ui.min.js"></script>
<script type="text/javascript" src="h-ui.admin/js/H-ui.admin.js"></script>

<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript" src="lib/jquery.contextmenu/jquery.contextmenu.r2.js"></script>
<script type="text/javascript" src="js/webjs/home.js"></script>
<script type="text/javascript" th:src="@{/js/webjs/common.js}"></script>

<script type="text/javascript">
    var app = new Vue({
        el: '#app',
        data: {
            list_shujutongji_m: [],
            list_form_m: [],
            list_store_m: [],
            list_product_m: [],
            list_company_m: [],
            list_news_m: [],
            list_xitongguanli: [],


            shujutongji_m:0,
            form_m:0,
            store_m:0,
            product_m:0,
            company_m:0,
            news_m:0,
            xitongguanli:0
        },
        // 在 `methods` 对象中定义方法
        methods: {
            findChildActionList: function (msg) {
                console.log("findChildActionList msg:"+msg);
                switch(msg){
                    case app.shujutongji_m:
                        if(app.list_shujutongji_m.length>0)return;
                        break;
                    case app.form_m:
                        if(app.list_form_m.length>0)return;
                        break;
                    case app.store_m:
                        if(app.list_store_m.length>0)return;
                        break;
                    case app.product_m:
                        if(app.list_product_m.length>0)return;
                        break;
                    case app.company_m:
                        if(app.list_company_m.length>0)return;
                        break;

                    case app.news_m:
                        if(app.list_news_m.length>0)return;
                        break;
                    case app.xitongguanli:
                        if(app.list_xitongguanli.length>0)return;
                        break;

                }

                $.ajax({
                    url: serverHost()+"/admin/findChildActionList.html",
                    type: "get",
                    dataType: "json",
                    data: {
                        pid:msg
                    },
                    async: false,
                    success: function(data) {
                        switch(msg){
                            case app.shujutongji_m:
                                app.list_shujutongji_m=data.payload;
                                break;
                            case app.form_m:
                                app.list_form_m=data.payload;
                                break;
                            case app.store_m:
                                app.list_store_m=data.payload;
                                break;
                            case app.product_m:
                                app.list_product_m=data.payload;
                                break;
                            case app.company_m:
                                app.list_company_m=data.payload;
                                break;
                            case app.news_m:
                                app.list_news_m=data.payload;
                                break;
                            case app.xitongguanli:
                                app.list_xitongguanli=data.payload;
                                break;

                        }

                    },
                    error: function() {

                    }
                });
            }
        },
        findMenuList: function () {
            $.ajax({
                url: serverHost()+"/admin/findRolePowerList",
                type: "get",
                dataType: "json",
                data: {

                },
                async: false,
                success: function(data) {
                    app.shujutongji_m=data.payload.shujutongji_m;
                    app.form_m=data.payload.form_m;
                    app.store_m=data.payload.store_m;
                    app.product_m=data.payload.product_m;
                    app.company_m=data.payload.company_m;
                    app.news_m=data.payload.news_m;
                    app.xitongguanli=data.payload.xitongguanli;

                    console.log("data:shujutongji "+app.shujutongji);
                },
                error: function() {

                }
            });
        }

    })

    app.findMenuList();
</script>

</body>
</html>
